# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: hive.mjs

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

`hive.mjs` - —ç—Ç–æ **–≥–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∫–æ–º–∞–Ω–¥—ã `hive`**, –∫–æ—Ç–æ—Ä–∞—è –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –º–∞—Å—Å–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É GitHub Issues —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI. –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –∫–æ—Ç–æ—Ä–∞—è:

- üîç **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç GitHub Issues** –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö –∏–ª–∏ –ª–∏—á–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö
- ü§ñ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç AI –∞–≥–µ–Ω—Ç—ã** –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- üë∑ **–£–ø—Ä–∞–≤–ª—è–µ—Ç –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á** —Å –ø–æ–º–æ—â—å—é Producer/Consumer –ø–∞—Ç—Ç–µ—Ä–Ω–∞
- üîÑ **–†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** (continuous mode) –∏–ª–∏ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (single run)
- üìä **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É** –º–Ω–æ–∂–µ—Å—Ç–≤–∞ Issues –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è**: Hive Mind - —ç—Ç–æ "—Ä–æ–π —Ä–∞–∑—É–º–∞", –≥–¥–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ AI –∞–≥–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞–¥ —Ä–∞–∑–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏, –∫–∞–∫ –ø—á—ë–ª—ã –≤ —É–ª—å–µ.

## üìã –ü–æ–ª–Ω—ã–π –∫–æ–¥ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

```javascript
#!/usr/bin/env node
// ^^^^^^^^^^^^^^^^^^^
// Shebang - —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Node.js –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
// –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é: ./hive.mjs
// –í–º–µ—Å—Ç–æ: node hive.mjs

// ==============================================
// –†–ê–ó–î–ï–õ 1: –†–ê–ù–ù–Ø–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
// ==============================================
// –ü–æ—Ä—è–¥–æ–∫ –∏–º–ø–æ—Ä—Ç–æ–≤ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ï–ù!

// Import Sentry instrumentation first (must be before other imports)
import './instrument.mjs';
// ^^^^^^^^^^^^^^^^^^
// SENTRY –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø - –î–û–õ–ñ–ù–ê –ë–´–¢–¨ –ü–ï–†–í–û–ô!
// –ü–æ—á–µ–º—É –ø–µ—Ä–≤–æ–π? Sentry –¥–æ–ª–∂–µ–Ω "–æ–±–µ—Ä–Ω—É—Ç—å" –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã
// –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –Ω–∞ —Å–∞–º—ã—Ö —Ä–∞–Ω–Ω–∏—Ö —Å—Ç–∞–¥–∏—è—Ö

// ==============================================
// –†–ê–ó–î–ï–õ 2: –û–ë–†–ê–ë–û–¢–ö–ê –†–ê–ù–ù–ò–• –ê–†–ì–£–ú–ï–ù–¢–û–í
// ==============================================
// –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (--version, --help) –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏—Ö –î–û –∑–∞–≥—Ä—É–∑–∫–∏ —Ç—è–∂—ë–ª—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

const earlyArgs = process.argv.slice(2);
// process.argv - –º–∞—Å—Å–∏–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
// [0] = –ø—É—Ç—å –∫ node
// [1] = –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É (hive.mjs)
// [2+] = –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
// .slice(2) –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–µ –¥–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–∞

// --version: –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é –∏ –≤—ã–π—Ç–∏
if (earlyArgs.includes('--version')) {
  const { getVersion } = await import('./version.lib.mjs');
  try {
    const version = await getVersion();
    console.log(version);
  } catch {
    console.error('Error: Unable to determine version');
    process.exit(1);
  }
  process.exit(0);
}

// --help: –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –∏ –≤—ã–π—Ç–∏
if (earlyArgs.includes('--help') || earlyArgs.includes('-h')) {
  try {
    // Load minimal modules needed for help
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –ú–ò–ù–ò–ú–£–ú –º–æ–¥—É–ª–µ–π —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∏
    const { use } = eval(await (await fetch('https://unpkg.com/use-m/use.js')).text());
    globalThis.use = use;
    const yargsModule = await use('yargs@17.7.2');
    const yargs = yargsModule.default || yargsModule;
    const { hideBin } = await use('yargs@17.7.2/helpers');
    const rawArgs = hideBin(process.argv);

    // Reuse createYargsConfig from shared module to avoid duplication
    const { createYargsConfig } = await import('./hive.config.lib.mjs');
    const helpYargs = createYargsConfig(yargs(rawArgs)).version(false);

    // Show help and exit
    helpYargs.showHelp();
    process.exit(0);
  } catch (error) {
    console.error('‚ùå Error: Failed to load help information');
    console.error(`   ${error.message}`);
    console.error('   This might be due to network issues or missing dependencies.');
    console.error('   Please check your internet connection and try again.');
    process.exit(1);
  }
}

export { createYargsConfig } from './hive.config.lib.mjs';

// ==============================================
// –†–ê–ó–î–ï–õ 3: –ü–†–û–í–ï–†–ö–ê –†–ï–ñ–ò–ú–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø
// ==============================================
// Only execute main logic if this module is being run directly (not imported)
// –í—ã–ø–æ–ª–Ω—è—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –º–æ–¥—É–ª—å –∑–∞–ø—É—â–µ–Ω –Ω–∞–ø—Ä—è–º—É—é, –∞ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω

import { fileURLToPath } from 'url';
const isDirectExecution = process.argv[1] === fileURLToPath(import.meta.url) ||
                          (process.argv[1] && (process.argv[1].includes('/hive') || process.argv[1].endsWith('hive')));
// ^^^^^^^^^^^^^^^^^^
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω:
// 1. process.argv[1] === fileURLToPath(import.meta.url) - —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø—É—Ç–∏
// 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–º—è —Ñ–∞–π–ª–∞ –Ω–∞ —Å–ª—É—á–∞–π —Å–∏–º–ª–∏–Ω–∫–æ–≤ (npm global install —Å–æ–∑–¥–∞—ë—Ç —Å–∏–º–ª–∏–Ω–∫–∏)

if (isDirectExecution) {
// ^^^^^^^^^^^^^^^^^^
// –í–µ—Å—å –∫–æ–¥ –Ω–∏–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø—Ä–∏ –ø—Ä—è–º–æ–º –∑–∞–ø—É—Å–∫–µ
// –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥—Ä—É–≥–∏–º –º–æ–¥—É–ª—è–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç—ã –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏

console.log('üêù Hive Mind - AI-powered issue solver');
console.log('   Initializing...');

try {
console.log('   Loading dependencies (this may take a moment)...');

// ==============================================
// –†–ê–ó–î–ï–õ 4: HELPER –§–£–ù–ö–¶–ò–Ø –î–õ–Ø TIMEOUT
// ==============================================
const withTimeout = (promise, timeoutMs, operation) => {
  return Promise.race([
    promise,
    new Promise((_, reject) =>
      setTimeout(() => reject(new Error(`Operation '${operation}' timed out after ${timeoutMs}ms. This might be due to slow network or npm configuration issues.`)), timeoutMs)
    )
  ]);
};
// ^^^^^^^^^^^^^^^^^^
// –§—É–Ω–∫—Ü–∏—è-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–∞—É—Ç–∞ –∫ –ª—é–±–æ–º—É Promise
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
// Promise.race - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–≤–µ—Ä—à–∏–≤—à–µ–≥–æ—Å—è Promise
// –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –∑–∞ timeoutMs, –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–∞ –æ—à–∏–±–∫–∞

// ==============================================
// –†–ê–ó–î–ï–õ 5: –ó–ê–ì–†–£–ó–ö–ê USE-M
// ==============================================
// Use use-m to dynamically import modules for cross-runtime compatibility
if (typeof use === 'undefined') {
  try {
    // Wrap fetch in timeout to prevent hanging
    const useMCode = await withTimeout(
      fetch('https://unpkg.com/use-m/use.js').then(r => r.text()),
      10000,
      'fetching use-m library'
    );
    globalThis.use = (await eval(useMCode)).use;
  } catch (error) {
    console.error('‚ùå Fatal error: Failed to load dependencies');
    console.error(`   ${error.message}`);
    console.error('   This might be due to network issues or missing dependencies.');
    console.error('   Please check your internet connection and try again.');
    process.exit(1);
  }
}
// ^^^^^^^^^^^^^^^^^^
// USE-M - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ npm –º–æ–¥—É–ª–µ–π –ë–ï–ó package.json
// –†–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö JavaScript runtime (Node.js, Deno, Bun)
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥—É–ª–∏ —Å CDN (unpkg.com) –∏ –∫—ç—à–∏—Ä—É–µ—Ç –∏—Ö –ª–æ–∫–∞–ª—å–Ω–æ

// ==============================================
// –†–ê–ó–î–ï–õ 6: –ó–ê–ì–†–£–ó–ö–ê –û–°–ù–û–í–ù–´–• –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô
// ==============================================
// Use command-stream for consistent $ behavior across runtimes
const { $ } = await withTimeout(
  use('command-stream'),
  30000, // 30 second timeout
  'loading command-stream'
);
// ^^^^^^^^^^^^^^^^^^
// COMMAND-STREAM - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è shell –∫–æ–º–∞–Ω–¥
// –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π $ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫–∞–∫ –≤ Bash):
// await $`git status` - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

const yargsModule = await withTimeout(
  use('yargs@17.7.2'),
  30000,
  'loading yargs'
);
const yargs = yargsModule.default || yargsModule;
// ^^^^^^^^^^^^^^^^^^
// YARGS - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
// –í–µ—Ä—Å–∏—è 17.7.2 —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

const { hideBin } = await withTimeout(
  use('yargs@17.7.2/helpers'),
  30000,
  'loading yargs helpers'
);
// ^^^^^^^^^^^^^^^^^^
// hideBin - helper —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —É–¥–∞–ª—è–µ—Ç –ø–µ—Ä–≤—ã–µ 2 —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ process.argv
// (–ø—É—Ç—å –∫ node –∏ –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É), –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

const path = (await withTimeout(use('path'), 30000, 'loading path')).default;
const fs = (await withTimeout(use('fs'), 30000, 'loading fs')).promises;
// ^^^^^^^^^^^^^^^^^^
// path - –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—É—Ç—è–º–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
// fs.promises - Promise-based API –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

// ==============================================
// –†–ê–ó–î–ï–õ 7: –ò–ú–ü–û–†–¢ –í–ù–£–¢–†–ï–ù–ù–ò–• –ë–ò–ë–õ–ò–û–¢–ï–ö
// ==============================================
const lib = await import('./lib.mjs');
const { log, setLogFile, getAbsoluteLogPath, formatTimestamp, cleanErrorMessage, cleanupTempDirectories } = lib;
// ^^^^^^^^^^^^^^^^^^
// lib.mjs - –æ–±—â–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —É—Ç–∏–ª–∏—Ç:
// - log: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
// - setLogFile: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª –¥–ª—è –ª–æ–≥–æ–≤
// - getAbsoluteLogPath: –ø–æ–ª—É—á–∏—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ –ª–æ–≥-—Ñ–∞–π–ª—É
// - formatTimestamp: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –¥–ª—è –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤
// - cleanErrorMessage: –æ—á–∏—Å—Ç–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
// - cleanupTempDirectories: –æ—á–∏—Å—Ç–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

const yargsConfigLib = await import('./hive.config.lib.mjs');
const { createYargsConfig } = yargsConfigLib;
// ^^^^^^^^^^^^^^^^^^
// hive.config.lib.mjs - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Yargs –¥–ª—è –∫–æ–º–∞–Ω–¥—ã hive
// createYargsConfig - —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç Yargs —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∫–æ–º–∞–Ω–¥—ã hive

const claudeLib = await import('./claude.lib.mjs');
const { validateClaudeConnection } = claudeLib;
// ^^^^^^^^^^^^^^^^^^
// claude.lib.mjs - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude CLI
// validateClaudeConnection - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Claude API

const githubLib = await import('./github.lib.mjs');
const { checkGitHubPermissions, fetchAllIssuesWithPagination, fetchProjectIssues, isRateLimitError, batchCheckPullRequestsForIssues, parseGitHubUrl, batchCheckArchivedRepositories } = githubLib;
// ^^^^^^^^^^^^^^^^^^
// github.lib.mjs - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitHub API:
// - checkGitHubPermissions: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ GitHub
// - fetchAllIssuesWithPagination: –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ Issues —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
// - fetchProjectIssues: –ø–æ–ª—É—á–∏—Ç—å Issues –∏–∑ GitHub Project
// - isRateLimitError: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ—à–∏–±–∫–∞ rate limit
// - batchCheckPullRequestsForIssues: batch-–ø—Ä–æ–≤–µ—Ä–∫–∞ PR –¥–ª—è Issues
// - parseGitHubUrl: —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å GitHub URL
// - batchCheckArchivedRepositories: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

// Import YouTrack-related functions
const youTrackLib = await import('./youtrack/youtrack.lib.mjs');
const {
  validateYouTrackConfig,
  testYouTrackConnection,
  createYouTrackConfigFromEnv
} = youTrackLib;
// ^^^^^^^^^^^^^^^^^^
// YouTrack –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ JetBrains
// –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –∏–∑ YouTrack –≤ GitHub Issues

const youTrackSync = await import('./youtrack/youtrack-sync.mjs');
const { syncYouTrackToGitHub, formatIssuesForHive } = youTrackSync;

const memCheck = await import('./memory-check.mjs');
const { checkSystem } = memCheck;
// ^^^^^^^^^^^^^^^^^^
// memory-check.mjs - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
// checkSystem: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏—Å–∫ –∏ RAM –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

const exitHandler = await import('./exit-handler.lib.mjs');
const { initializeExitHandler, installGlobalExitHandlers, safeExit } = exitHandler;
// ^^^^^^^^^^^^^^^^^^
// exit-handler.lib.mjs - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
// - initializeExitHandler: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã—Ö–æ–¥–∞
// - installGlobalExitHandlers: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
// - safeExit: –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å –æ—á–∏—Å—Ç–∫–æ–π

const sentryLib = await import('./sentry.lib.mjs');
const { initializeSentry, withSentry, addBreadcrumb, reportError } = sentryLib;
// ^^^^^^^^^^^^^^^^^^
// sentry.lib.mjs - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
// - initializeSentry: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Sentry
// - withSentry: –æ–±–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
// - addBreadcrumb: –¥–æ–±–∞–≤–∏—Ç—å breadcrumb –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
// - reportError: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –≤ Sentry

const graphqlLib = await import('./github.graphql.lib.mjs');
const { tryFetchIssuesWithGraphQL } = graphqlLib;
// ^^^^^^^^^^^^^^^^^^
// github.graphql.lib.mjs - GitHub GraphQL API
// tryFetchIssuesWithGraphQL - –ø–æ–ª—É—á–∏—Ç—å Issues —á–µ—Ä–µ–∑ GraphQL (–±—ã—Å—Ç—Ä–µ–µ, —á–µ–º REST)

const commandName = process.argv[1] ? process.argv[1].split('/').pop() : '';
const isLocalScript = commandName.endsWith('.mjs');
const solveCommand = isLocalScript ? './solve.mjs' : 'solve';
// ^^^^^^^^^^^^^^^^^^
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É solve:
// - –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (*.mjs) - –∏—Å–ø–æ–ª—å–∑—É–µ–º './solve.mjs'
// - –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–µ–º 'solve'

// ==============================================
// –†–ê–ó–î–ï–õ 8: –§–£–ù–ö–¶–ò–Ø FALLBACK –î–õ–Ø –ü–û–õ–£–ß–ï–ù–ò–Ø ISSUES
// ==============================================

/**
 * Fallback function to fetch issues from organization/user repositories
 * when search API hits rate limits
 * @param {string} owner - Organization or user name
 * @param {string} scope - 'organization' or 'user'
 * @param {string} monitorTag - Label to filter by (optional)
 * @param {boolean} allIssues - Whether to fetch all issues or only labeled ones
 * @returns {Promise<Array>} Array of issues
 */
async function fetchIssuesFromRepositories(owner, scope, monitorTag, fetchAllIssues = false) {
  const { execSync } = await import('child_process');
  // ^^^^^^^^^^^^^^^^^^
  // execSync - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è gh cli –∫–æ–º–∞–Ω–¥

  try {
    await log(`   üîÑ Using repository-by-repository fallback for ${scope}: ${owner}`);

    // Strategy 1: Try GraphQL approach first (faster but has limitations)
    if (fetchAllIssues) {
      const graphqlResult = await tryFetchIssuesWithGraphQL(owner, scope, log, cleanErrorMessage);
      if (graphqlResult.success) {
        await log(`   ‚úÖ GraphQL approach successful: ${graphqlResult.issues.length} issues from ${graphqlResult.repoCount} repositories`);
        return graphqlResult.issues;
      }
    }

    // Strategy 2: Fallback to gh api --paginate approach (comprehensive but slower)
    await log('   üìã Using gh api --paginate approach for comprehensive coverage...', { verbose: true });

    let repoListCmd;
    if (scope === 'organization') {
      repoListCmd = `gh api orgs/${owner}/repos --paginate --jq '.[] | {name: .name, owner: .owner.login, isArchived: .archived}'`;
    } else {
      repoListCmd = `gh api users/${owner}/repos --paginate --jq '.[] | {name: .name, owner: .owner.login, isArchived: .archived}'`;
    }
    // ^^^^^^^^^^^^^^^^^^
    // gh api - –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ GitHub API —á–µ—Ä–µ–∑ GitHub CLI
    // --paginate - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è)
    // --jq - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞ —á–µ—Ä–µ–∑ jq (JSON –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä)

    await log(`   üîé Command: ${repoListCmd}`, { verbose: true });

    // Add delay for rate limiting
    await new Promise(resolve => setTimeout(resolve, 2000));
    // ^^^^^^^^^^^^^^^^^^
    // 2-—Å–µ–∫—É–Ω–¥–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è rate limiting

    const repoOutput = execSync(repoListCmd, { encoding: 'utf8' });
    const repoLines = repoOutput.trim().split('\n').filter(line => line.trim());
    const allRepositories = repoLines.map(line => JSON.parse(line));

    await log(`   üìä Found ${allRepositories.length} repositories`);

    // Filter repositories to only include those owned by the target user/org
    const ownedRepositories = allRepositories.filter(repo => {
      const repoOwner = repo.owner?.login || repo.owner;
      return repoOwner === owner;
    });

    const unownedCount = allRepositories.length - ownedRepositories.length;
    if (unownedCount > 0) {
      await log(`   ‚è≠Ô∏è  Skipping ${unownedCount} repository(ies) not owned by ${owner}`);
    }

    // Filter out archived repositories
    const repositories = ownedRepositories.filter(repo => !repo.isArchived);
    const archivedCount = ownedRepositories.length - repositories.length;

    if (archivedCount > 0) {
      await log(`   ‚è≠Ô∏è  Skipping ${archivedCount} archived repository(ies)`);
    }

    await log(`   ‚úÖ Processing ${repositories.length} non-archived repositories owned by ${owner}`);

    let collectedIssues = [];
    let processedRepos = 0;

    // Process repositories in batches
    for (const repo of repositories) {
      try {
        const repoName = repo.name;
        const ownerName = repo.owner?.login || owner;

        await log(`   üîç Fetching issues from ${ownerName}/${repoName}...`, { verbose: true });

        let issueCmd;
        if (fetchAllIssues) {
          issueCmd = `gh issue list --repo ${ownerName}/${repoName} --state open --json url,title,number,createdAt`;
        } else {
          issueCmd = `gh issue list --repo ${ownerName}/${repoName} --state open --label "${monitorTag}" --json url,title,number,createdAt`;
        }

        // Add delay between repository requests
        await new Promise(resolve => setTimeout(resolve, 1000));

        const repoIssues = await fetchAllIssuesWithPagination(issueCmd);

        // Add repository information to each issue
        const issuesWithRepo = repoIssues.map(issue => ({
          ...issue,
          repository: {
            name: repoName,
            owner: { login: ownerName }
          }
        }));

        collectedIssues.push(...issuesWithRepo);
        processedRepos++;

        if (issuesWithRepo.length > 0) {
          await log(`   ‚úÖ Found ${issuesWithRepo.length} issues in ${ownerName}/${repoName}`, { verbose: true });
        }

      } catch (repoError) {
        reportError(repoError, {
          context: 'fetchIssuesFromRepositories',
          repo: repo.name,
          operation: 'fetch_repo_issues'
        });
        await log(`   ‚ö†Ô∏è  Failed to fetch issues from ${repo.name}: ${cleanErrorMessage(repoError)}`, { verbose: true });
        // Continue with other repositories
      }
    }

    await log(`   ‚úÖ Repository fallback complete: ${collectedIssues.length} issues from ${processedRepos}/${repositories.length} repositories`);
    return collectedIssues;

  } catch (error) {
    reportError(error, {
      context: 'fetchIssuesFromRepositories',
      owner,
      scope,
      operation: 'repository_fallback'
    });
    await log(`   ‚ùå Repository fallback failed: ${cleanErrorMessage(error)}`, { level: 'error' });
    return [];
  }
}

// ==============================================
// –†–ê–ó–î–ï–õ 9: –ü–ê–†–°–ò–ù–ì –ê–†–ì–£–ú–ï–ù–¢–û–í –ö–û–ú–ê–ù–î–ù–û–ô –°–¢–†–û–ö–ò
// ==============================================

const rawArgs = hideBin(process.argv);
let argv;

// Temporarily suppress stderr to prevent yargs from printing error messages
const originalStderrWrite = process.stderr.write;
let stderrBuffer = '';
process.stderr.write = function(chunk, encoding, callback) {
  // Capture stderr output instead of writing it
  stderrBuffer += chunk.toString();
  if (typeof encoding === 'function') {
    encoding();
  } else if (callback) {
    callback();
  }
  return true;
};
// ^^^^^^^^^^^^^^^^^^
// –í—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º stderr –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –æ—à–∏–±–æ–∫ yargs
// –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

try {
  argv = await createYargsConfig(yargs()).parse(rawArgs);
  // Restore stderr if parsing succeeded
  process.stderr.write = originalStderrWrite;
} catch (error) {
  // Restore stderr before handling the error
  process.stderr.write = originalStderrWrite;

  // If .strict() mode catches an unknown argument, fail fast
  if (error.message && error.message.includes('Unknown argument')) {
    console.error('Error:', error.message);
    process.exit(1);
  }

  // Yargs sometimes throws "Not enough arguments" errors
  // The error.argv object still contains the parsed arguments
  if (error.argv) {
    argv = error.argv;
  } else {
    if (stderrBuffer) {
      process.stderr.write(stderrBuffer);
    }
    throw error;
  }
}

let githubUrl = argv['github-url'];

// Set global verbose mode
global.verboseMode = argv.verbose;

// ==============================================
// –†–ê–ó–î–ï–õ 10: –í–ê–õ–ò–î–ê–¶–ò–Ø GITHUB URL
// ==============================================

if (githubUrl) {
  const parsedUrl = parseGitHubUrl(githubUrl);

  if (!parsedUrl.valid) {
    console.error('Error: Invalid GitHub URL format');
    if (parsedUrl.error) {
      console.error(`  ${parsedUrl.error}`);
    }
    console.error('Expected: https://github.com/owner or https://github.com/owner/repo');
    // ... –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–æ–≤ ...
    await safeExit(1, 'Error occurred');
  }

  // Check if it's a valid type for hive (user or repo)
  if (parsedUrl.type !== 'user' && parsedUrl.type !== 'repo') {
    console.error('Error: Invalid GitHub URL for monitoring');
    console.error(`  URL type '${parsedUrl.type}' is not supported`);
    await safeExit(1, 'Error occurred');
  }

  // Use the normalized URL
  githubUrl = parsedUrl.normalized;
}

let urlMatch = null;
const needsUrlValidation = githubUrl;

if (needsUrlValidation) {
  urlMatch = githubUrl.match(/^https:\/\/github\.com\/([^/]+)(\/([^/]+))?$/);
  if (!urlMatch) {
    console.error('Error: Invalid GitHub URL format');
    // ... –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã ...
    await safeExit(1, 'Error occurred');
  }
}

// –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è...
// (–ü–æ–ª–Ω—ã–π —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç 1484 —Å—Ç—Ä–æ–∫–∏)

```

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 1. Producer/Consumer Pattern (–û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á)

```javascript
class IssueQueue {
  constructor() {
    this.queue = [];           // –û—á–µ—Ä–µ–¥—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
    this.processing = new Set(); // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ —Å–µ–π—á–∞—Å –∑–∞–¥–∞—á–∏
    this.completed = new Set();  // –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
    this.failed = new Set();     // –ü—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
    this.workers = [];          // –ú–∞—Å—Å–∏–≤ –≤–æ—Ä–∫–µ—Ä–æ–≤
    this.isRunning = true;      // –§–ª–∞–≥ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
  }
}
```

**–ü–æ—á–µ–º—É Set, –∞ –Ω–µ Array –¥–ª—è processing/completed/failed?**
- Set –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç O(1) –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
- Set –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã
- Set.has() –±—ã—Å—Ç—Ä–µ–µ —á–µ–º Array.includes() –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π

### 2. Worker Function (–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)

–ö–∞–∂–¥—ã–π –≤–æ—Ä–∫–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ:

1. –ë–µ—Ä—ë—Ç Issue –∏–∑ –æ—á–µ—Ä–µ–¥–∏ (`dequeue()`)
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç `solve` –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ `spawn`
3. –°—Ç—Ä–∏–º–∏—Ç –≤—ã–≤–æ–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
4. –ü–æ–º–µ—á–∞–µ—Ç Issue –∫–∞–∫ completed/failed
5. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ —à–∞–≥—É 1

**–ü–æ—á–µ–º—É spawn, –∞ –Ω–µ exec?**
- spawn –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç real-time streaming output
- exec –±—É—Ñ–µ—Ä–∏–∑—É–µ—Ç –≤–µ—Å—å –≤—ã–≤–æ–¥ –≤ –ø–∞–º—è—Ç–∏
- spawn –ª—É—á—à–µ –¥–ª—è long-running –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### 3. Rate Limiting –∏ Fallback Strategies

GitHub API –∏–º–µ–µ—Ç —Å—Ç—Ä–æ–≥–∏–µ –ª–∏–º–∏—Ç—ã:
- Search API: 30 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- REST API: 5000 –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:**

1. **–ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞**: GitHub Search API
2. **–ü—Ä–∏ Rate Limit**: GraphQL API (–±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
3. **–§–∏–Ω–∞–ª—å–Ω—ã–π fallback**: Repository-by-repository —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏

### 4. YouTrack Integration

YouTrack - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –æ—Ç JetBrains. Hive –º–æ–∂–µ—Ç:

1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –∏–∑ YouTrack –≤ GitHub Issues
2. –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Å—Ç–∞–¥–∏—è–º (stages)
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Issues

### 5. System Resource Checks

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:

- **Disk Space**: –ú–∏–Ω–∏–º—É–º 500MB (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **Memory**: –ú–∏–Ω–∏–º—É–º 256MB
- **GitHub Authentication**: –í–∞–ª–∏–¥–Ω—ã–µ credentials
- **Claude CLI**: –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫:

```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
hive https://github.com/my-org --monitor-tag "ai-solve"

# –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
hive https://github.com/owner/repo --all-issues

# –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ (–Ω–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π)
hive https://github.com/owner/repo --once

# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ 5 Issues –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
hive https://github.com/owner/repo --concurrency 5
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –æ–ø—Ü–∏–∏:

```bash
# GitHub Project mode
hive https://github.com/owner/repo \
  --project-mode \
  --project-number 1 \
  --project-owner "my-org" \
  --project-status "Todo"

# YouTrack integration
YOUTRACK_URL=https://company.youtrack.cloud \
YOUTRACK_API_KEY=perm:xxx \
YOUTRACK_PROJECT_CODE=PROJ \
YOUTRACK_STAGE="Ready for AI" \
hive https://github.com/owner/repo --youtrack-mode

# –° –∞–≤—Ç–æ-—Ñ–æ—Ä–∫–æ–º
hive https://github.com/owner/repo --auto-fork
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

### –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫:

```
üêù Hive Mind - AI-powered issue solver
   Initializing...
   Loading dependencies (this may take a moment)...

üìÅ Log file: /path/to/hive-2025-11-28-123456.log
   (All output will be logged here)

üéØ Monitoring Configuration:
   üìç Target: Organization - my-org
   üè∑Ô∏è  Tag: "ai-solve"
   üîÑ Concurrency: 3 parallel workers
   ü§ñ Model: sonnet
   ‚ôæÔ∏è  Mode: Continuous monitoring

üöÄ Starting Hive Mind monitoring system...

üë∑ Starting 3 workers...
üîß Worker 1 started
üîß Worker 2 started
üîß Worker 3 started

üîÑ Monitoring iteration 1 at 2025-11-28T12:34:56.789Z

üîç Fetching issues with label "ai-solve"...
   üìã Found 5 issue(s) with label "ai-solve"

   ‚ûï Added to queue: https://github.com/my-org/repo1/issues/123
   ‚ûï Added to queue: https://github.com/my-org/repo1/issues/124
   üì• Added 2 new issue(s) to queue

üìä Current Status:
   üìã Queued: 2
   ‚öôÔ∏è  Processing: 0
   ‚úÖ Completed: 0
   ‚ùå Failed: 0

üë∑ Worker 1 processing: https://github.com/my-org/repo1/issues/123
   üöÄ Executing solve for https://github.com/my-org/repo1/issues/123...
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

```
‚ö†Ô∏è  Search failed: API rate limit exceeded
   üîç Search limit detected - attempting repository fallback...
   üîÑ Using repository-by-repository fallback for organization: my-org
   üìã Using gh api --paginate approach...
   üìä Found 50 repositories
   ‚úÖ Processing 45 non-archived repositories
```

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:

- **Node.js**: JavaScript runtime
- **use-m**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π –±–µ–∑ package.json
- **command-stream**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ shell –∫–æ–º–∞–Ω–¥
- **yargs**: –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ CLI
- **GitHub CLI (gh)**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitHub
- **Claude CLI**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude AI
- **Sentry**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:

1. **Producer/Consumer** - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–∏ Issues
2. **Worker Pool** - –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
3. **Graceful Shutdown** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å cleanup
4. **Error Recovery** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã
5. **Rate Limiting** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è API –ª–∏–º–∏—Ç–æ–≤

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- **Early Exit Optimization**: --version –∏ --help –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Timeout Protection**: –í—Å–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç–∞–º–∏
- **Retry Logic**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö
- **Resource Cleanup**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

`hive.mjs` - —ç—Ç–æ –º–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ AI –∞–≥–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è:

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É GitHub Issues –≤ –º–∞—Å—à—Ç–∞–±–µ
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç API –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- ‚úÖ –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ error handling –∏ retry logic
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (GitHub, YouTrack, Sentry)

–≠—Ç–æ —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã Hive Mind, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç GitHub Issues –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤.
