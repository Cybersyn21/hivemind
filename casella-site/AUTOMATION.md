# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ | Inmobiliaria Casella & Casella

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö –¥–ª—è —Å–∞–π—Ç–∞ Inmobiliaria Casella & Casella.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **Telegram Bot** - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö –æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
2. **Backend API** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü
3. **Cloudflare Pages** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. **AI Integration** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π —á–µ—Ä–µ–∑ ChatGPT/Claude API

## Telegram Bot –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ó–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (–¥–æ 10 —Ñ–æ—Ç–æ –Ω–∞ –æ–±—ä–µ–∫—Ç)
- –í–≤–æ–¥–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é —Ñ–æ—Ä–º—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±—ä–µ–∫—Ç–∞
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π
- –ö–æ–º–º–∏—Ç–∏—Ç—å –∏ –ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub

### Workflow –∑–∞–≥—Ä—É–∑–∫–∏

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É /new_property
2. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é (venta/alquiler/terrenos/comercial)
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (drag & drop –≤ Telegram)
4. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
   - –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
   - –¶–µ–Ω–∞ (–∏–ª–∏ "Consultar")
   - –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
   - –ü–ª–æ—â–∞–¥—å
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
5. –ë–æ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç:
   - Slug –¥–ª—è URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: casa-barrio-norte-001)
   - HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞
   - –û–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ AI
   - –ü–æ—Å—Ç—ã –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π
6. –ë–æ—Ç —Å–æ–∑–¥–∞–µ—Ç commit –∏ push –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
7. Cloudflare Pages –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ Telegram Bot (Python)

```python
import telebot
from telebot import types
import requests
import os
from datetime import datetime
from github import Github

bot = telebot.TeleBot(os.getenv('TELEGRAM_BOT_TOKEN'))
github_client = Github(os.getenv('GITHUB_TOKEN'))

# –•—Ä–∞–Ω–∏–ª–∏—â–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
user_data = {}

@bot.message_handler(commands=['start'])
def start(message):
    bot.reply_to(message,
        "Bienvenido al bot de Inmobiliaria Casella & Casella!\n\n"
        "Comandos disponibles:\n"
        "/new_property - Agregar nueva propiedad\n"
        "/help - Ayuda")

@bot.message_handler(commands=['new_property'])
def new_property(message):
    user_id = message.from_user.id
    user_data[user_id] = {
        'photos': [],
        'step': 'category'
    }

    markup = types.ReplyKeyboardMarkup(row_width=2, one_time_keyboard=True)
    markup.add(
        types.KeyboardButton('Venta'),
        types.KeyboardButton('Alquiler'),
        types.KeyboardButton('Terrenos'),
        types.KeyboardButton('Comercial')
    )

    bot.send_message(message.chat.id,
        "Seleccione la categor√≠a de propiedad:",
        reply_markup=markup)

@bot.message_handler(content_types=['photo'])
def handle_photos(message):
    user_id = message.from_user.id

    if user_id not in user_data:
        bot.reply_to(message, "Por favor, inicie con /new_property")
        return

    # –°–∫–∞—á–∏–≤–∞–µ–º —Ñ–æ—Ç–æ
    file_info = bot.get_file(message.photo[-1].file_id)
    downloaded_file = bot.download_file(file_info.file_path)

    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
    filename = f"temp_{user_id}_{len(user_data[user_id]['photos'])}.jpg"
    with open(filename, 'wb') as f:
        f.write(downloaded_file)

    user_data[user_id]['photos'].append(filename)

    bot.reply_to(message,
        f"Foto {len(user_data[user_id]['photos'])} recibida. "
        "Env√≠e m√°s fotos o /done para continuar")

@bot.message_handler(commands=['done'])
def done_photos(message):
    user_id = message.from_user.id

    if user_id not in user_data or len(user_data[user_id]['photos']) == 0:
        bot.reply_to(message, "No hay fotos cargadas")
        return

    user_data[user_id]['step'] = 'title'
    bot.send_message(message.chat.id,
        "Ingrese el t√≠tulo de la propiedad:")

@bot.message_handler(func=lambda message: True)
def handle_text(message):
    user_id = message.from_user.id

    if user_id not in user_data:
        return

    step = user_data[user_id].get('step')

    if step == 'category':
        user_data[user_id]['category'] = message.text.lower()
        user_data[user_id]['step'] = 'photos'
        bot.send_message(message.chat.id,
            "Env√≠e las fotos de la propiedad. "
            "Cuando termine, use /done")

    elif step == 'title':
        user_data[user_id]['title'] = message.text
        user_data[user_id]['step'] = 'price'
        bot.send_message(message.chat.id,
            "Ingrese el precio (o 'Consultar'):")

    elif step == 'price':
        user_data[user_id]['price'] = message.text
        user_data[user_id]['step'] = 'location'
        bot.send_message(message.chat.id,
            "Ingrese la ubicaci√≥n:")

    elif step == 'location':
        user_data[user_id]['location'] = message.text
        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø—É—à–∏–º –≤ GitHub
        generate_and_push(user_id)

def generate_and_push(user_id):
    data = user_data[user_id]

    # 1. –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ –≤ Unsplash –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
    # 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º slug
    slug = generate_slug(data['title'])

    # 3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HTML –∏–∑ —à–∞–±–ª–æ–Ω–∞
    html_content = generate_html_page(data, slug)

    # 4. –ö–æ–º–º–∏—Ç–∏–º –≤ GitHub
    repo = github_client.get_repo("Cybersyn21/casella.casa")

    file_path = f"properties/{data['category']}/{slug}.html"
    repo.create_file(
        file_path,
        f"Add property: {data['title']}",
        html_content,
        branch="main"
    )

    # 5. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–æ—Å—Ç—ã –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π
    social_content = generate_social_posts(data)

    bot.send_message(user_id,
        f"‚úÖ Propiedad publicada!\n\n"
        f"URL: https://casella.casa/{file_path}\n\n"
        f"Contenido para redes sociales:\n{social_content}")

    # –û—á–∏—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    cleanup_user_data(user_id)

def generate_slug(title):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç URL-friendly slug"""
    import re
    slug = title.lower()
    slug = re.sub(r'[^\w\s-]', '', slug)
    slug = re.sub(r'[-\s]+', '-', slug)
    return slug

def generate_html_page(data, slug):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ —à–∞–±–ª–æ–Ω–∞"""
    template = open('templates/property-template.html', 'r').read()

    # –ó–∞–º–µ–Ω–∞ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤
    html = template.replace('{{TITLE}}', data['title'])
    html = html.replace('{{PRICE}}', data['price'])
    html = html.replace('{{LOCATION}}', data['location'])
    html = html.replace('{{CATEGORY}}', data['category'])

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≥–∞–ª–µ—Ä–µ—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
    photos_html = generate_photos_html(data['photos'])
    html = html.replace('{{PHOTOS}}', photos_html)

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ AI
    description = generate_ai_description(data)
    html = html.replace('{{DESCRIPTION}}', description)

    return html

def generate_ai_description(data):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ OpenAI API"""
    import openai

    openai.api_key = os.getenv('OPENAI_API_KEY')

    prompt = f"""
    Crea una descripci√≥n atractiva y profesional en espa√±ol para esta propiedad:

    T√≠tulo: {data['title']}
    Categor√≠a: {data['category']}
    Ubicaci√≥n: {data['location']}
    Precio: {data['price']}

    La descripci√≥n debe tener 3-4 p√°rrafos, destacar caracter√≠sticas clave,
    ubicaci√≥n, y motivar al cliente a contactar.
    """

    response = openai.ChatCompletion.create(
        model="gpt-4",
        messages=[
            {"role": "system", "content": "Eres un experto en marketing inmobiliario en Argentina."},
            {"role": "user", "content": prompt}
        ]
    )

    return response.choices[0].message.content

def generate_social_posts(data):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ—Å—Ç—ã –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π"""
    # WhatsApp
    whatsapp = f"""
üè† *{data['title']}*
üìç {data['location']}
üí∞ {data['price']}

¬°Excelente oportunidad!
M√°s info: https://casella.casa/...

üìû 2657-609278
    """.strip()

    # Instagram
    instagram = f"""
üè† {data['title']}
üìç {data['location']}
üí∞ {data['price']}

¬°Tu pr√≥xima casa te est√° esperando!

#InmobiliariaCasella #VillaMercedes #SanLuis #Inmobiliaria #CasaEnVenta
    """.strip()

    # Facebook
    facebook = f"""
üè† Nueva Propiedad Disponible!

{data['title']}
üìç Ubicaci√≥n: {data['location']}
üí∞ Precio: {data['price']}

Contactanos para m√°s informaci√≥n:
üìû 2657-609278
üìß horaciocasella@yahoo.com.ar

#InmobiliariaCasella
    """.strip()

    return f"""
üì± WHATSAPP:
{whatsapp}

üì∑ INSTAGRAM:
{instagram}

üìò FACEBOOK:
{facebook}
"""

if __name__ == '__main__':
    bot.polling(none_stop=True)
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitHub Actions

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.github/workflows/deploy.yml`:

```yaml
name: Deploy to Cloudflare Pages

on:
  push:
    branches:
      - main
    paths:
      - 'properties/**'
      - 'pages/**'
      - 'index.html'

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Publish to Cloudflare Pages
        uses: cloudflare/pages-action@v1
        with:
          apiToken: ${{ secrets.CLOUDFLARE_API_TOKEN }}
          accountId: ${{ secrets.CLOUDFLARE_ACCOUNT_ID }}
          projectName: casella-casa
          directory: ./
          gitHubToken: ${{ secrets.GITHUB_TOKEN }}
```

## –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –í–∞—Ä–∏–∞–Ω—Ç—ã

1. **GitHub Repository** (—Ç–µ–∫—É—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç)
   - –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

2. **Cloudflare Images**
   - –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: CDN, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤
   - –°—Ç–æ–∏–º–æ—Å—Ç—å: $5/–º–µ—Å—è—Ü –∑–∞ 100,000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

3. **Unsplash API** (–¥–ª—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü
   - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-–≤–µ—Ä—Å–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Cloudflare Images**:

```javascript
// –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Cloudflare Images —á–µ—Ä–µ–∑ API
async function uploadToCloudflare(imageBuffer, filename) {
  const formData = new FormData();
  formData.append('file', imageBuffer, filename);

  const response = await fetch(
    `https://api.cloudflare.com/client/v4/accounts/${ACCOUNT_ID}/images/v1`,
    {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${CLOUDFLARE_API_TOKEN}`
      },
      body: formData
    }
  );

  const result = await response.json();
  return result.result.variants[0]; // URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
}
```

## AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω–∏–π

```python
PROPERTY_DESCRIPTION_PROMPT = """
Eres un experto en marketing inmobiliario en Argentina, espec√≠ficamente en Villa Mercedes, San Luis.

Crea una descripci√≥n profesional y atractiva en espa√±ol argentino para esta propiedad:

Categor√≠a: {category}
T√≠tulo: {title}
Ubicaci√≥n: {location}
Precio: {price}
Caracter√≠sticas: {features}

Requisitos:
1. 3-4 p√°rrafos bien estructurados
2. Destacar ubicaci√≥n y caracter√≠sticas √∫nicas
3. Usar lenguaje persuasivo pero profesional
4. Incluir llamado a la acci√≥n al final
5. Mencionar servicios de la inmobiliaria Casella & Casella
6. Usar t√©rminos comunes en Argentina (departamento, cochera, expensas, etc.)

La descripci√≥n debe ser convincente y hacer que el cliente quiera contactar inmediatamente.
"""

SOCIAL_MEDIA_PROMPT = """
Crea contenido para redes sociales para esta propiedad:

{property_details}

Genera 3 versiones:
1. WhatsApp (conciso, con emojis, m√°x 200 caracteres)
2. Instagram (atractivo, con hashtags relevantes)
3. Facebook (m√°s detallado, profesional)

Incluye siempre:
- Datos de contacto: 2657-609278
- Email: horaciocasella@yahoo.com.ar
- Emojis apropiados
- Hashtags relevantes para San Luis, Argentina
"""
```

## Automatizaci√≥n con Make.com (alternativa)

Como –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–º—É –±–æ—Ç—É, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å no-code –ø–ª–∞—Ç—Ñ–æ—Ä–º—É Make.com:

### Workflow Make.com

```
1. Telegram Trigger (–Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ/—Ñ–æ—Ç–æ)
   ‚Üì
2. Router –ø–æ —Ç–∏–ø—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   ‚Üì
3a. –ï—Å–ª–∏ —Ñ–æ—Ç–æ ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ Google Drive/Cloudflare
3b. –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç ‚Üí –ø–∞—Ä—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
   ‚Üì
4. Aggregator (—Å–æ–±—Ä–∞—Ç—å –≤—Å–µ —Ñ–æ—Ç–æ)
   ‚Üì
5. OpenAI Module (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è)
   ‚Üì
6. Google Docs/Template (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è HTML)
   ‚Üì
7. GitHub Module (—Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –∏ commit)
   ‚Üì
8. Cloudflare Pages Webhook (–¥–µ–ø–ª–æ–π)
   ‚Üì
9. Telegram Bot (–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Make.com
- –ù–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ì–æ—Ç–æ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$9/–º–µ—Å—è—Ü
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è free tier

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```python
def send_notification(message, level='info'):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω—É –≤ Telegram"""
    emoji = {
        'info': '‚ÑπÔ∏è',
        'success': '‚úÖ',
        'warning': '‚ö†Ô∏è',
        'error': '‚ùå'
    }

    bot.send_message(
        ADMIN_CHAT_ID,
        f"{emoji[level]} {message}"
    )

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
try:
    generate_and_push(user_id)
    send_notification("Nueva propiedad publicada exitosamente", 'success')
except Exception as e:
    send_notification(f"Error al publicar propiedad: {str(e)}", 'error')
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª

```python
import logging

logging.basicConfig(
    filename='bot.log',
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)

logger = logging.getLogger(__name__)

logger.info(f"Property created: {slug}")
logger.error(f"Failed to upload photo: {e}")
```

## –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –≤ Google Drive

```python
from pydrive.auth import GoogleAuth
from pydrive.drive import GoogleDrive

def backup_to_drive():
    """–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö HTML-—Ñ–∞–π–ª–æ–≤"""
    gauth = GoogleAuth()
    gauth.LocalWebserverAuth()
    drive = GoogleDrive(gauth)

    # –°–æ–∑–¥–∞–µ–º –∞—Ä—Ö–∏–≤
    import shutil
    shutil.make_archive('backup', 'zip', 'properties/')

    # –ó–∞–≥—Ä—É–∂–∞–µ–º –≤ Drive
    file = drive.CreateFile({
        'title': f'casella-backup-{datetime.now().strftime("%Y%m%d")}.zip'
    })
    file.SetContentFile('backup.zip')
    file.Upload()
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
# Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
ADMIN_CHAT_ID=your_admin_telegram_id

# GitHub
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_REPO=Cybersyn21/casella.casa

# OpenAI
OPENAI_API_KEY=your_openai_api_key

# Cloudflare
CLOUDFLARE_API_TOKEN=your_cloudflare_token
CLOUDFLARE_ACCOUNT_ID=your_account_id

# Google Drive (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
GOOGLE_DRIVE_CLIENT_ID=your_client_id
GOOGLE_DRIVE_CLIENT_SECRET=your_client_secret
```

## Deployment –±–æ—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ö–æ—Å—Ç–∏–Ω–≥–∞

1. **Heroku** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)
   ```bash
   heroku create casella-bot
   heroku config:set TELEGRAM_BOT_TOKEN=xxx
   git push heroku main
   ```

2. **Railway.app** (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push

3. **VPS** (DigitalOcean, Linode)
   ```bash
   # –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
   git clone https://github.com/your-repo/casella-bot
   cd casella-bot
   pip install -r requirements.txt
   python bot.py

   # –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã
   sudo systemctl enable casella-bot
   sudo systemctl start casella-bot
   ```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- ‚úÖ –ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞ —Ä—É—Ç–∏–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –°–æ–∑–¥–∞—Ç—å Telegram –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Personal Access Token
3. –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏ –¥–ª—è OpenAI –∏ Cloudflare
4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –±–æ—Ç–∞ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å workflow

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É.
